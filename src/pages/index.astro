---
import "../styles/global.css";

import Layout from "../layouts/layout.astro";
import PinnedProject from "../components/pinnedProject.astro";
---

<Layout pageTitle="home">
  <div class="hero">
    <div class="title">
      <h1>Ramón E. Hernández H.</h1>
      <h3>B. Engr. in Communications and Electronics</h3>
    </div>
    <div class="description">
      <p><span id="hello"></span> I’m Ramón from México.</p>
      <p>I love challenges and software development.</p>
    </div>
  </div>

  <div class="projects">
    <div class="header">
      <p>projects</p>
      <hr>
    </div>
    <div class="content">
      <PinnedProject
        name="Partial Differential Equation solver"
        description="Model and simulate phenomena in Python"
      />
      <PinnedProject
        name="Math expression translator"
        description="Convert math expressions into code"
      />
      <PinnedProject
        name="Long Range Server"
        description="A private server using a RP3A0 and LoRa"
      />
      <PinnedProject
        name="docking-gcloud"
        description="Streamline docker to Google Cloud deploy"
      />
    </div>
  </div>
</Layout>

<!-- ------ Local style ------ -->

<style>
  .hero {
    gap: 25px;
    /*gap: 50px;*/
  }

  .title {
    gap: 5px;

    & h1 {
      /*opacity: 0;*/
      font-weight: 200;
    }

    & h3 {
      /*opacity: 0;*/
      font-weight: 400;
      color: var(--gray);
    }
  }

  #hello {
    /*
    visibility: hidden;
    */
    font-size: var(--p);
    font-weight: 600;
    font-style: italic;
    color: var(--coral);
    min-height: var(--p-line-h);
  }

  .description {
    width: 400px;
    text-align: center;
    /*
    & p {
      opacity: 0;
    }
    */
  }

  .content {
    flex-direction: row;
    flex-wrap: wrap;
    gap: 20px;
  }

  .header {
    width: inherit;
    flex-direction: row;
    gap: 10px;
    & hr {
      width: 100%;
      height: 0.8px;
      background-color: var(--gray);
      border: none;
    }
  }

  .projects {
    width: 100%;
    max-width: 750px;
    gap: 20px;
  }
</style>

<script>
  const helloList = [
    "Welcome!",
    "Vitejte!",
    "Velkomst!",
    "Welkom!",
    "Bienvenue!",
    "Willkommen!",
    "Benvenuto!",
    "!Bienvenido!",
    "Valkommen!",
    "Witaj!",
    "ようこそ!",
  ];

  const helloElement = document.getElementById("hello");
  if (helloElement) {
    const randomIndex = Math.floor(Math.random() * helloList.length);
    helloElement.textContent = helloList[randomIndex];
  } 

  /*
  import { gsap } from "gsap";
  import { SplitText } from "gsap/SplitText";

  const tl = gsap.timeline();

  let splitHello = SplitText.create("#hello", { type: "chars" });

  tl.set('.title, .description', { y: 100 })
    .set('footer', { opacity: 0 })
    .set("#hello", { visibility: "visible" })
    .set(splitHello.chars, { opacity: 0, x: 5 });

  tl.to('.title h1, .title h3', {
    duration: 1,
    opacity: 1,
    stagger: 0.25,
    ease: "power2.out",
  });

 
  tl.to(splitHello.chars, {
    duration: 0.25,
    opacity: 1,
    x: 0,
    ease: "power2.out",
    stagger: 0.1
  });

  tl.to('.title, .description', {
    delay: 0.75,
    duration: 0.5,
    y: 0,
    ease: "power2.out",
  });
  tl.to('#hello', {
    duration: 0.5,
    fontSize: "var(--p)",
    ease: "power2.out",
  }, "<");
  tl.to('.description p', {
    duration: 0.5,
    opacity: 1,
    ease: "power2.out",
  }, "<");
  tl.to('.hero', {
    duration: 0.5,
    gap: "50px",
    ease: "power2.out",
  }, "<");

  tl.to('.menu', {
    duration: 0.5,
    opacity: 1,
    ease: "power2.out",
  });

  tl.to('footer', {
    duration: 0.5,
    opacity: 1,
    ease: "power2.out",
  });
  */
  
  /*
  const random = Math.floor(Math.random() * helloList.length);

  var i = 0;
  var speed = 50; The speed/duration of the effect in milliseconds

  const descriptionElement = document.querySelector(".description") as HTMLElement;
  
  const helloSpan = document.getElementById("hello") as HTMLSpanElement;

  function typeWriter() {
    if (i < helloList[random].length) {
      helloSpan.textContent = helloList[random].substring(0, i + 1);
      i++;
      setTimeout(typeWriter, speed);
    }
  }

  document.addEventListener("DOMContentLoaded", () => {
    typeWriter();
  });
  */
</script>
